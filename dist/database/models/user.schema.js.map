{"version":3,"file":"user.schema.js","sourceRoot":"","sources":["../../../src/database/models/user.schema.ts"],"names":[],"mappings":";;;AAAA,uCAA0D;AAE1D,+CAAiE;AAIjE,MAAM,aAAa,GAAG;IACpB,KAAK,EAAE,MAAM;IACb,MAAM,EAAE,MAAM;CACf,CAAC;AAEW,QAAA,UAAU,GAAG,IAAI,iBAAM,CAAQ;IAC1C,KAAK,EAAE;QACL,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACf;IACD,KAAK,EAAE;QACL,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;QACd,MAAM,EAAE,IAAI;KACb;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACf;IACD,KAAK,EAAE;QACL,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,KAAK;KAChB;IACD,KAAK,EAAE;QACL,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,KAAK;KAChB;IACD,MAAM,EAAE;QACN,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;QACd,OAAO,EAAE,0BAAc,CAAC,OAAO;KAChC;IACD,MAAM,EAAE,CAAC,aAAa,CAAC;CACxB,EAAC;IACA,UAAU,EAAE,IAAI;CACjB,CAAC,CAAC;AAEU,QAAA,SAAS,GAAoB,IAAA,gBAAK,EAAW,0BAAc,CAAC,IAAI,EAAE,kBAAU,CAAC,CAAC","sourcesContent":["import { Document, Model, model, Schema } from 'mongoose';\r\nimport { IUser } from '../../interfaces';\r\nimport { TableNamesEnum, UserStatusEnum } from '../../constants';\r\n\r\nexport type UserType = IUser & Document\r\n\r\nconst tokenSubModel = {\r\n  token: String,\r\n  action: String\r\n};\r\n\r\nexport const UserSchema = new Schema<IUser>({\r\n  login: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  email: {\r\n    type: String,\r\n    required: true,\r\n    unique: true\r\n  },\r\n  password: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  phone: {\r\n    type: String,\r\n    required: false\r\n  },\r\n  photo: {\r\n    type: String,\r\n    required: false\r\n  },\r\n  status: {\r\n    type: String,\r\n    required: true,\r\n    default: UserStatusEnum.PENDING\r\n  },\r\n  tokens: [tokenSubModel]\r\n},{\r\n  timestamps: true\r\n});\r\n\r\nexport const UserModel: Model<UserType> = model<UserType>(TableNamesEnum.USER, UserSchema);\r\n"]}